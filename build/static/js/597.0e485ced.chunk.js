"use strict";(self.webpackChunkdu_lich_cms=self.webpackChunkdu_lich_cms||[]).push([[597],{5984:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(9439),r=t(9548),i=t(8280),s=t(2282),c=t(8137),u=t(6949),o=t(5869),l=t(9529),d=t(7272),m=t(5508),h=t(7251),x=t(1911),f=t(8303),p=t(7313),g=t(7212),j=t(6417),v=m.Z.Header,Z=m.Z.Sider,b=m.Z.Content,y=function(e){var n=e.children,t=(0,x.k6)(),y=(0,p.useState)(!1),N=(0,a.Z)(y,2),k=N[0],I=N[1],T=(0,p.useState)(localStorage.getItem("activeHeader")),S=(0,a.Z)(T,2),w=S[0],P=S[1];return(0,j.jsxs)(m.Z,{children:[(0,j.jsxs)(Z,{trigger:null,collapsible:!0,collapsed:k,className:"navbar-left",children:[(0,j.jsx)("div",{className:"logo",children:(0,j.jsx)(f.rU,{to:"/",children:(0,j.jsx)("img",{src:g.j,alt:"logo"})})}),(0,j.jsxs)(h.Z,{theme:"dark",mode:"inline",onClick:function(e){localStorage.setItem("activeHeader",e.key),P(localStorage.getItem("activeHeader"))},children:[(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(r.Z,{}),className:1==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/quan-ly-user",children:" Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"})},"1"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(r.Z,{}),className:2==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/quan-ly-admin",children:" Qu\u1ea3n l\xfd Admin"})},"2"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(i.Z,{}),className:3==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/quan-ly-hdv",children:"Qu\u1ea3n l\xfd h\u01b0\u1edbng d\u1eabn vi\xean"})},"3"),(0,j.jsx)(h.Z.Item,{className:7==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,j.jsx)(s.Z,{}),children:(0,j.jsx)(f.rU,{to:"/quan-ly-tour",children:"Qu\u1ea3n l\xfd Tour"})},"7"),(0,j.jsx)(h.Z.Item,{className:4==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,j.jsx)(c.Z,{}),children:(0,j.jsx)(f.rU,{to:"/quan-ly-blog",children:"Qu\u1ea3n l\xfd b\xe0i vi\u1ebft"})},"4"),(0,j.jsx)(h.Z.Item,{className:10==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,j.jsx)(c.Z,{}),children:(0,j.jsx)(f.rU,{to:"/bao-cao-bai-viet",children:"B\xe1o c\xe1o b\xe0i vi\u1ebft"})},"10"),(0,j.jsx)(h.Z.Item,{className:11==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,j.jsx)(c.Z,{}),children:(0,j.jsx)(f.rU,{to:"/bao-cao-hdv",children:"B\xe1o c\xe1o HDV"})},"11"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(u.Z,{}),className:5==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/quan-ly-ma-giam-gia",children:"M\xe3 gi\u1ea3m gi\xe1"})},"5"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(u.Z,{}),className:9==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/quan-ly-rut-tien",children:"Qu\u1ea3n l\xfd r\xfat ti\u1ec1n"})},"9"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(o.Z,{}),className:6==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/thong-ke",children:"Th\u1ed1ng k\xea"})},"6"),(0,j.jsx)(h.Z.Item,{icon:(0,j.jsx)(o.Z,{}),className:8==w?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,j.jsx)(f.rU,{to:"/he-thong",children:"H\u1ec7 th\u1ed1ng"})},"8")]}),(0,j.jsxs)("div",{className:"admin-infor",children:[(0,j.jsxs)("div",{className:"admin-info-left",children:[(0,j.jsx)("img",{alt:"",src:g.j}),(0,j.jsxs)("div",{className:"admin-name",children:[(0,j.jsx)("h4",{className:"admin-name-title",children:"Admin 1"}),(0,j.jsx)("p",{className:"admin-name-role",children:"Admin"})]})]}),(0,j.jsx)("div",{className:"admin-info-right",onClick:function(){return localStorage.setItem("accessToken",null),localStorage.setItem("refreshToken",null),void t.push("/dang-nhap")},children:(0,j.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})})]})]}),(0,j.jsxs)(m.Z,{className:"site-layout",children:[(0,j.jsx)(v,{className:"site-layout-background",style:{padding:0},children:(0,j.jsxs)("div",{className:"header-left",children:[p.createElement(k?l.Z:d.Z,{className:"trigger",onClick:function(){return I(!k)}}),(0,j.jsx)("h1",{className:"title-content",children:"H\u1ec7 th\u1ed1ng"})]})}),(0,j.jsx)(b,{className:"site-layout-background",style:{margin:"5px 8px",padding:12,minHeight:280},children:n})]})]})}},9371:function(e,n,t){var a=t(4165),r=t(5861),i=t(9439),s=t(7313),c=t(6063),u=t(9491),o=t(5217),l=t(623),d=t(6417);n.Z=function(e){var n=e.data1,t=e.listUser,m=(0,s.useState)(!1),h=(0,i.Z)(m,2),x=h[0],f=h[1],p=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,(0,l.vV)("/users/".concat(n.id));case 3:if(200!==e.sent.statusCode){e.next=9;break}return e.next=7,t();case 7:e.next=10;break;case 9:c.ZP.error("X\xf3a User th\u1ea5t b\u1ea1i");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(u.Z,{onClick:function(){f(!0)},type:"primary",danger:!0,className:"button-primary",children:[(0,d.jsx)("i",{className:"fa-solid fa-trash-can"}),"X\xf3a"]}),(0,d.jsx)(o.Z,{title:"X\xf3a t\xe0i kho\u1ea3n n\xe0y?",centered:!0,visible:x,onOk:p,onCancel:function(e){f(!1)},cancelText:"H\u1ee7y",okText:"\u0110\u1ed3ng \xfd",children:(0,d.jsxs)("p",{className:"popup-des",children:["B\u1ea1n mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n",(0,d.jsx)("span",{className:"popup-des-name",children:null===n||void 0===n?void 0:n.username})]})})]})}},7212:function(e,n,t){t.d(n,{j:function(){return a}});var a=t.p+"static/media/logo.feaf19761e28fa956a04.png"},2676:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(7313),r=(t(2980),t(5547)),i=t(5984),s=t(4165),c=t(5861),u=t(1413),o=t(9439),l=t(6063),d=t(8075),m=t(623),h=t(6417);function x(){var e=(0,a.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=[{title:"STT",dataIndex:"stt",width:"40px",render:function(e,n,t){return(0,h.jsx)(h.Fragment,{children:t+1})}},{title:"Th\u1eddi gian ph\xea duy\u1ec7t",dataIndex:"time",render:function(e,n){return(0,h.jsx)(h.Fragment,{children:new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleString()})}},{title:"T\xean tour",dataIndex:"name"},{title:"T\xean HDV",dataIndex:"nameGuide",render:function(e,n){var t;return(0,h.jsx)(h.Fragment,{children:null===(t=n.tourGuide)||void 0===t?void 0:t.name})}},{title:"T\u1ec9nh th\xe0nh",dataIndex:"provice",render:function(e,n){var t;return(0,h.jsx)(h.Fragment,{children:null===(t=n.province)||void 0===t?void 0:t.name})}},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",render:function(e,n){return(0,h.jsx)(h.Fragment,{children:1==n.status?"\u0110ang ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kh\xf3a"})}},{title:"Ng\u01b0\u1eddi duy\u1ec7t",dataIndex:"approvedBy"}],x=(0,a.useState)({pagination:{current:1,pageSize:8,total:t.length}}),f=(0,o.Z)(x,2),p=f[0],g=f[1],j=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.zQ)("/tours",{limit:100});case 2:(n=e.sent).returnValue.data.length>=0?r(n.returnValue.data):l.ZP.error("th\u1ea5t b\u1ea1i");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){j()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.Z,{rowKey:function(e){return e.id},className:"table-custom-user",columns:i,dataSource:t,onChange:function(e,n,t){g((0,u.Z)({pagination:e,filters:n},t))},pagination:p.pagination})})}var f=t(9491),p=t(8303);function g(){var e=(0,a.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=[{title:"STT",dataIndex:"stt",width:"40px"},{title:"Th\u1eddi gian y\xeau c\u1ea7u",dataIndex:"time"},{title:"T\xean tour",dataIndex:"name"},{title:"HDV",dataIndex:"nameGuide"},{title:"T\u1ec9nh th\xe0nh",dataIndex:"province"},{title:"",dataIndex:"action",render:function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"table-cell-action",children:[(0,h.jsx)(f.Z,{type:"primary",className:"button-accept button-primary",danger:!0,onClick:function(){return Z(n)},children:"Ch\u1ea5p nh\u1eadn"}),(0,h.jsx)(f.Z,{className:"button-deny ant-btn-primary",onClick:function(){return b(n)},children:"T\u1eeb ch\u1ed1i"}),(0,h.jsx)(f.Z,{className:"button-nomal",children:(0,h.jsx)(p.rU,{to:"/quan-ly-tour/".concat(n.id),children:" Xem "})})]})})}}],x=(0,a.useState)({pagination:{current:1,pageSize:8,total:t.length}}),g=(0,o.Z)(x,2),j=g[0],v=g[1],Z=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.$P)("/tours",{tourId:n.id,action:"APPROVE"});case 2:if(200!==(t=e.sent).statusCode){e.next=10;break}return r(t.returnValue.data),l.ZP.success("Ph\xea duy\u1ec7t th\xe0nh c\xf4ng"),e.next=8,y();case 8:e.next=11;break;case 10:l.ZP.error("th\u1ea5t b\u1ea1i");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.$P)("/tours",{tourId:n.id,action:"REJECT"});case 2:if(200!==(t=e.sent).statusCode){e.next=10;break}return r(t.returnValue.data),l.ZP.success("Ph\xea duy\u1ec7t th\xe0nh c\xf4ng"),e.next=8,y();case 8:e.next=11;break;case 10:l.ZP.error("th\u1ea5t b\u1ea1i");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.zQ)("/tours/admin/approve-list",{limit:100});case 2:(n=e.sent).returnValue.data.length>=0?r(n.returnValue.data.map((function(e,n){var t,a,r;return(0,u.Z)((0,u.Z)({},e),{},{province:null!==(t=e.province)&&void 0!==t&&t.name?null===(a=e.province)||void 0===a?void 0:a.name:"",stt:n,time:new Date(e.createdAt).toLocaleString(),nameGuide:null===(r=e.tourGuide)||void 0===r?void 0:r.username})}))):l.ZP.error("th\u1ea5t b\u1ea1i");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){y()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.Z,{rowKey:function(e){return e.id},className:"table-custom-user",columns:i,dataSource:t,onChange:function(e,n,t){v((0,u.Z)({pagination:e,filters:n},t))},pagination:j.pagination})})}t(9371);function j(){var e=(0,a.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=[{title:"STT",dataIndex:"stt",width:"40px"},{title:"Ng\xe0y t\u1ea1o",dataIndex:"time"},{title:"T\xean tour",dataIndex:"name"},{title:"HDV",dataIndex:"nameGuide"},{title:"T\u1ec9nh th\xe0nh",dataIndex:"provice",render:function(e,n){var t;return(0,h.jsx)(h.Fragment,{children:null===(t=n.province)||void 0===t?void 0:t.name})}},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status"},{title:"",dataIndex:"action",render:function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"table-cell-action"})})}}],x=(0,a.useState)({pagination:{current:1,pageSize:8,total:t.length}}),f=(0,o.Z)(x,2),p=f[0],g=f[1],j=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.zQ)("/tours",{limit:100});case 2:(n=e.sent).returnValue.data.length>=0?r(n.returnValue.data.map((function(e,n){var t;return(0,u.Z)((0,u.Z)({},e),{},{stt:n+1,time:new Date(e.createdAt).toLocaleString(),nameGuide:null===(t=e.tourGuide)||void 0===t?void 0:t.name})}))):l.ZP.error("th\u1ea5t b\u1ea1i");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){j()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.Z,{rowKey:function(e){return e.id},className:"table-custom-user",columns:i,dataSource:t,onChange:function(e,n,t){g((0,u.Z)({pagination:e,filters:n},t))},pagination:p.pagination})})}function v(){return(0,a.useEffect)((function(){}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.Z,{children:(0,h.jsxs)("div",{className:"home__wrapper",children:[(0,h.jsxs)(r.Z,{defaultActiveKey:"1",children:[(0,h.jsx)(r.Z.TabPane,{tab:"Y\xeau c\u1ea7u ph\xea duy\u1ec7t",children:(0,h.jsx)(g,{})},"1"),(0,h.jsx)(r.Z.TabPane,{tab:"L\u1ecbch s\u1eed ph\xea duy\u1ec7t",children:(0,h.jsx)(x,{})},"2"),(0,h.jsx)(r.Z.TabPane,{tab:"Danh s\xe1ch tour",children:(0,h.jsx)(j,{})},"3")]}),";"]})})})}},623:function(e,n,t){t.d(n,{$P:function(){return o},D2:function(){return u},vV:function(){return l},zQ:function(){return c}});var a=t(6573),r=t(9726),i=t(3648),s=a.Z.create({timeout:18e4,baseURL:"https://api.ktravel.online/"});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat((0,i.LP)()),e}),(function(e){return Promise.reject(e)}));s.interceptors.response.use((function(e){return e}),(function(e){var n,t;e.config;if(console.log(e),404===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status))return r.m.replace("/");if(401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(0,i.YV)())return(0,i.qz)(),(0,i.l$)(),r.m.replace("/"),Promise.reject(e);return Promise.reject(e)}));var c=function(e,n){return s.get(e,{params:n}).then((function(e){return e.data}))},u=function(e,n,t){return s.post(e,n,{params:t}).then((function(e){return e.data}))},o=function(e,n){return s.put(e,n).then((function(e){return e.data}))},l=function(e,n){return s.delete(e,{data:n}).then((function(e){return e.data}))}},2980:function(){}}]);