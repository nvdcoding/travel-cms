"use strict";(self.webpackChunkdu_lich_cms=self.webpackChunkdu_lich_cms||[]).push([[848],{5984:function(e,n,t){t.d(n,{Z:function(){return y}});var a=t(9439),i=t(9548),r=t(8280),s=t(2282),l=t(8137),c=t(6949),o=t(5869),u=t(9529),d=t(7272),m=t(5508),h=t(7251),x=t(1911),f=t(8303),j=t(7313),p=t(7212),g=t(6417),Z=m.Z.Header,v=m.Z.Sider,k=m.Z.Content,y=function(e){var n=e.children,t=(0,x.k6)(),y=(0,j.useState)(!1),N=(0,a.Z)(y,2),b=N[0],I=N[1],C=(0,j.useState)(localStorage.getItem("activeHeader")),T=(0,a.Z)(C,2),q=T[0],U=T[1];return(0,g.jsxs)(m.Z,{children:[(0,g.jsxs)(v,{trigger:null,collapsible:!0,collapsed:b,className:"navbar-left",children:[(0,g.jsx)("div",{className:"logo",children:(0,g.jsx)(f.rU,{to:"/",children:(0,g.jsx)("img",{src:p.j,alt:"logo"})})}),(0,g.jsxs)(h.Z,{theme:"dark",mode:"inline",onClick:function(e){localStorage.setItem("activeHeader",e.key),U(localStorage.getItem("activeHeader"))},children:[(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(i.Z,{}),className:1==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/quan-ly-user",children:" Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"})},"1"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(i.Z,{}),className:2==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/quan-ly-admin",children:" Qu\u1ea3n l\xfd Admin"})},"2"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(r.Z,{}),className:3==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/quan-ly-hdv",children:"Qu\u1ea3n l\xfd h\u01b0\u1edbng d\u1eabn vi\xean"})},"3"),(0,g.jsx)(h.Z.Item,{className:7==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,g.jsx)(s.Z,{}),children:(0,g.jsx)(f.rU,{to:"/quan-ly-tour",children:"Qu\u1ea3n l\xfd Tour"})},"7"),(0,g.jsx)(h.Z.Item,{className:4==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,g.jsx)(l.Z,{}),children:(0,g.jsx)(f.rU,{to:"/quan-ly-blog",children:"Qu\u1ea3n l\xfd b\xe0i vi\u1ebft"})},"4"),(0,g.jsx)(h.Z.Item,{className:10==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,g.jsx)(l.Z,{}),children:(0,g.jsx)(f.rU,{to:"/bao-cao-bai-viet",children:"B\xe1o c\xe1o b\xe0i vi\u1ebft"})},"10"),(0,g.jsx)(h.Z.Item,{className:11==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",icon:(0,g.jsx)(l.Z,{}),children:(0,g.jsx)(f.rU,{to:"/bao-cao-hdv",children:"B\xe1o c\xe1o HDV"})},"11"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(c.Z,{}),className:5==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/quan-ly-ma-giam-gia",children:"M\xe3 gi\u1ea3m gi\xe1"})},"5"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(c.Z,{}),className:9==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/quan-ly-rut-tien",children:"Qu\u1ea3n l\xfd r\xfat ti\u1ec1n"})},"9"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(o.Z,{}),className:6==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/thong-ke",children:"Th\u1ed1ng k\xea"})},"6"),(0,g.jsx)(h.Z.Item,{icon:(0,g.jsx)(o.Z,{}),className:8==q?"ant-menu-item ant-menu-item-selected":"ant-menu-item",children:(0,g.jsx)(f.rU,{to:"/he-thong",children:"H\u1ec7 th\u1ed1ng"})},"8")]}),(0,g.jsxs)("div",{className:"admin-infor",children:[(0,g.jsxs)("div",{className:"admin-info-left",children:[(0,g.jsx)("img",{alt:"",src:p.j}),(0,g.jsxs)("div",{className:"admin-name",children:[(0,g.jsx)("h4",{className:"admin-name-title",children:"Admin 1"}),(0,g.jsx)("p",{className:"admin-name-role",children:"Admin"})]})]}),(0,g.jsx)("div",{className:"admin-info-right",onClick:function(){return localStorage.setItem("accessToken",null),localStorage.setItem("refreshToken",null),void t.push("/dang-nhap")},children:(0,g.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})})]})]}),(0,g.jsxs)(m.Z,{className:"site-layout",children:[(0,g.jsx)(Z,{className:"site-layout-background",style:{padding:0},children:(0,g.jsxs)("div",{className:"header-left",children:[j.createElement(b?u.Z:d.Z,{className:"trigger",onClick:function(){return I(!b)}}),(0,g.jsx)("h1",{className:"title-content",children:"H\u1ec7 th\u1ed1ng"})]})}),(0,g.jsx)(k,{className:"site-layout-background",style:{margin:"5px 8px",padding:12,minHeight:280},children:n})]})]})}},7212:function(e,n,t){t.d(n,{j:function(){return a}});var a=t.p+"static/media/logo.feaf19761e28fa956a04.png"},4134:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var a=t(4165),i=t(5861),r=t(1413),s=t(9439),l=t(7313),c=(t(2980),t(6063)),o=t(8075),u=t(5984),d=t(5332),m=t(3195),h=t(9491),x=t(5217),f=t(7786),j=t(2138),p=t(1911),g=t(623),Z=t(6417);var v=function(e){e.listAdmin;var n=(0,l.useState)(!1),t=(0,s.Z)(n,2),r=t[0],o=t[1],u=d.Z.Option,v=m.Z.useForm(),k=(0,s.Z)(v,1)[0],y=((0,p.k6)(),function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.D2)("/admin",n);case 2:200===e.sent.statusCode?(o(!1),c.ZP.success("T\u1ea1o t\xe0i kho\u1ea3n th\xe0nh c\xf4ng")):c.ZP.error("C\xf3 l\u1ed7i h\u1ec7 th\u1ed1ng");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(h.Z,{type:"primary",className:"button-add",icon:(0,Z.jsx)(j.Z,{}),danger:!0,onClick:function(){o(!0)},children:"T\u1ea1o t\xe0i kho\u1ea3n"}),(0,Z.jsx)(x.Z,{title:"Th\xeam t\xe0i kho\u1ea3n ",centered:!0,visible:r,footer:null,onCancel:function(e){k.resetFields(),o(!1)},cancelText:"H\u1ee7y",okText:"\u0110\u1ed3ng \xfd",children:(0,Z.jsx)("div",{className:"popup-content",children:(0,Z.jsxs)(m.Z,{form:k,name:"basic",onFinish:y,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,Z.jsx)(m.Z.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"E-mail kh\xf4ng h\u1ee3p l\u1ec7."},{required:!0,message:"E-mail kh\xf4ng \u0111\u01b0\u1ecdc \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,Z.jsx)(f.Z,{})}),(0,Z.jsx)(m.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"H\u1ecd t\xean kh\xf4ng \u0111\u01b0\u1ecdc \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,Z.jsx)(f.Z,{})}),(0,Z.jsx)(m.Z.Item,{name:"role",label:"Role",children:(0,Z.jsxs)(d.Z,{placeholder:"Ch\u1ecdn Role",defaultValue:"admin",children:[(0,Z.jsx)(u,{value:"ADMIN",children:"Admin"}),(0,Z.jsx)(u,{value:"MOD",children:"Mod"})]})}),(0,Z.jsx)(m.Z.Item,{children:(0,Z.jsxs)("div",{className:"group-button",children:[(0,Z.jsx)(h.Z,{type:"primary",danger:!0,htmlType:"submit",className:"group-button-ok",children:"T\u1ea1o t\xe0i kho\u1ea3n"}),(0,Z.jsx)(h.Z,{className:"button-normal group-button-no-ok",htmlType:"reset",onClick:function(){return o(!1)},children:"H\u1ee7y"})]})})]})})})]})};var k=function(e){var n=e.data1,t=e.listUser,r=d.Z.Option,o=(0,l.useState)(!1),u=(0,s.Z)(o,2),f=u[0],j=u[1],p=(0,l.useState)([]),v=(0,s.Z)(p,2),k=v[0],y=(v[1],function(){var e=(0,i.Z)((0,a.Z)().mark((function e(i){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.level=parseInt(i.level),i.modId=n.id,j(!1),e.next=6,(0,g.$P)("/admin",i);case 6:return e.next=8,t();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c.ZP.error("Kh\xf4ng th\u1ec3 thay \u0111\u1ed5i quy\u1ec1n admin");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}());function N(){return(N=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.Z,{className:"button-nomal",onClick:function(){return function(){return N.apply(this,arguments)}()},children:[(0,Z.jsx)("i",{className:"fa-solid fa-pencil"}),"Edit"]}),(0,Z.jsx)(x.Z,{title:"Ch\u1ec9nh s\u1eeda th\xf4ng tin",open:f,visible:f,footer:null,onCancel:function(){j(!1)},maskClosable:!1,children:(0,Z.jsxs)(m.Z,{name:"basic",initialValues:{remember:!0},autoComplete:"off",onFinish:y,onFinishFailed:function(e){console.log("Failed:",e)},children:[(0,Z.jsx)(m.Z.Item,{name:"level",label:"Ch\u1ee9c v\u1ee5",children:(0,Z.jsxs)(d.Z,{placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5 c\u1ee7a b\u1ea1n!",children:[(0,Z.jsx)(r,{value:"1",children:"Mod L.1"}),(0,Z.jsx)(r,{value:"2",children:"Mod L.2"}),(0,Z.jsx)(r,{value:"3",children:"Mod L.3"}),(0,Z.jsx)(r,{value:"4",children:"Mod L.4"})]})}),(0,Z.jsx)(m.Z.Item,{name:"status",label:"Tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n",initialValue:null===k||void 0===k?void 0:k.status,children:(0,Z.jsxs)(d.Z,{placeholder:"Tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n!",children:[(0,Z.jsx)(r,{value:"1",children:"Ho\u1ea1t \u0111\u1ed9ng1"}),(0,Z.jsx)(r,{value:"0",children:"Kh\xf3a"})]})}),(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginRight:"10px"},children:(0,Z.jsxs)(m.Z.Item,{children:[(0,Z.jsx)(h.Z,{type:"primary",htmlType:"submit",children:"L\u01b0u"}),(0,Z.jsx)(h.Z,{type:"primary",htmlType:"reset",onClick:function(){return j(!1)},children:"H\u1ee7y"})]})})]})})]})};var y=function(e){var n=e.data1,t=(0,l.useState)(!1),r=(0,s.Z)(t,2),o=r[0],u=r[1];console.log("dtAA",n);var d=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.next=3,(0,g.vV)("api/user/".concat(n.id));case 3:return e.next=5,(0,g.zQ)("api/user/manage/",{limit:100});case 5:200===e.sent.status||c.ZP.error("X\xf3a User th\u1ea5t b\u1ea1i");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.Z,{onClick:function(){u(!0)},type:"primary",danger:!0,className:"button-primary",children:[(0,Z.jsx)("i",{className:"fa-solid fa-trash-can"}),"X\xf3a"]}),(0,Z.jsx)(x.Z,{title:"X\xf3a t\xe0i kho\u1ea3n n\xe0y?",centered:!0,visible:o,onOk:d,onCancel:function(e){u(!1)},cancelText:"H\u1ee7y",okText:"\u0110\u1ed3ng \xfd",children:(0,Z.jsxs)("p",{className:"popup-des",children:["B\u1ea1n mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n",(0,Z.jsx)("span",{className:"popup-des-name",children:null===n||void 0===n?void 0:n.name})]})})]})};var N=function(){var e=[{title:"STT",dataIndex:"STT",width:"40px",render:function(e,n,t){return(0,Z.jsx)(Z.Fragment,{children:t+1})}},{title:"T\xean",dataIndex:"username"},{title:"Email",dataIndex:"email"},{title:"Role",dataIndex:"role"},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",render:function(e,n){return(0,Z.jsx)(Z.Fragment,{children:0==n.status?"B\u1ecb kh\xf3a":"\u0110ang ho\u1ea1t \u0111\u1ed9ng"})}},{title:"",dataIndex:"action",render:function(e,n){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"table-cell-action",children:[(0,Z.jsx)(k,{className:"modal-active-user",data1:n,listUser:p}),(0,Z.jsx)(y,{className:"modal-delete-user",data1:n,listUser:p})]})})}}],n=(0,l.useState)([]),t=(0,s.Z)(n,2),d=t[0],m=t[1],h=(0,l.useState)({pagination:{current:1,pageSize:8,total:d.length}}),x=(0,s.Z)(h,2),f=x[0],j=x[1],p=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.zQ)("/admin",{limit:100});case 2:200===(n=e.sent).statusCode?m(null===(t=n.returnValue)||void 0===t?void 0:t.data):c.ZP.error("C\u1eadp nh\u1eadt User th\u1ea5t b\u1ea1i");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){p()}),[]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(u.Z,{children:(0,Z.jsxs)("div",{className:"home__wrapper",children:[(0,Z.jsxs)("div",{className:"home-header",children:[(0,Z.jsxs)("h5",{className:"sum-title",children:["T\u1ed5ng s\u1ed1 Admin/Mod: ",(0,Z.jsx)("span",{children:d.length})]}),(0,Z.jsx)(v,{listAdmin:p})]}),(0,Z.jsx)(o.Z,{rowKey:function(e){return e.id},className:"table-custom-user",columns:e,dataSource:d,onChange:function(e,n,t){j((0,r.Z)({pagination:e,filters:n},t))},pagination:f.pagination})]})})})}},623:function(e,n,t){t.d(n,{$P:function(){return o},D2:function(){return c},vV:function(){return u},zQ:function(){return l}});var a=t(6573),i=t(9726),r=t(3648),s=a.Z.create({timeout:18e4,baseURL:"https://api.ktravel.online/"});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat((0,r.LP)()),e}),(function(e){return Promise.reject(e)}));s.interceptors.response.use((function(e){return e}),(function(e){var n,t;e.config;if(console.log(e),404===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status))return i.m.replace("/");if(401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(0,r.YV)())return(0,r.qz)(),(0,r.l$)(),i.m.replace("/"),Promise.reject(e);return Promise.reject(e)}));var l=function(e,n){return s.get(e,{params:n}).then((function(e){return e.data}))},c=function(e,n,t){return s.post(e,n,{params:t}).then((function(e){return e.data}))},o=function(e,n){return s.put(e,n).then((function(e){return e.data}))},u=function(e,n){return s.delete(e,{data:n}).then((function(e){return e.data}))}},2138:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(1413),i=t(7313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},s=t(7469),l=function(e,n){return i.createElement(s.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="PlusOutlined";var c=i.forwardRef(l)},2980:function(){}}]);